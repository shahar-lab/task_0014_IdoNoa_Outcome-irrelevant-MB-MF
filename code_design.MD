The script includes a main function called mytrials() which runs a loop of 40 trials over 5 blocks. 

There is a small break in between blocks, but the random walk continues from the same point.

In each trial, two persons are randomly sampled by the computer. 

In addition, we also randomly sample the locations of the shops in this stage, as they are not affected by participants' behavior.

Only after getting ch_key1 we are ready to insert the matching as the fruit and wear images.
Additionally, the reward probability is decided by the chosen objects.

In every step, pressing a wrong button (such as one not reflecting the location of the shop) will abort the trial and write the current data to the csv file.
Participants can take a break in the person choice stage by pressing 'space' - which will also abort the trial and write the current data to the csv.

Other than the main function, the script includes an instructions part which is simply showing pictures. 

The quiz part is simply showing pictures and only letting them move forward by picking the right option.

